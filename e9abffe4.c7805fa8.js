(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{135:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return p})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return l}));var r=n(1),o=n(6),a=(n(0),n(143)),c={id:"exporting",title:"Exporting From Scala to JS"},p={id:"core/exporting",title:"Exporting From Scala to JS",description:"Exporting a component for use in javascript environments requires you to export",source:"@site/docs/core/exporting.md",permalink:"/scalajs-reaction/docs/core/exporting",editUrl:"https://github.com/aappddeevv/scalar2020online/edit/master/presentation/docs/core/exporting.md",sidebar:"docs",previous:{title:"Virtual DOM",permalink:"/scalajs-reaction/docs/core/vdom"},next:{title:"Importing from JS to Scala",permalink:"/scalajs-reaction/docs/core/importing"}},i=[{value:"Exporting from scala.js and javascript bundling",id:"exporting-from-scalajs-and-javascript-bundling",children:[]}],s={rightToc:i};function l(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Exporting a component for use in javascript environments requires you to export\nthe function component. It is quite easy."),Object(a.b)("p",null,"Since your function component already takes a js object as the props parameter,\nyou can simple export the component using scala.js export API."),Object(a.b)("p",null,"Here's the API. This is all you need to do:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-scala"}),'object MyComponent {\n  trait Props extends js.Object { ... }\n  def apply(props: Props) = render.elementWith(props)\n  \n  @JSExportTopLevel("MyComponent") // or whatever name you want  \n  val render: ReactFC[Props] = props => { ... }\n}\n')),Object(a.b)("p",null,"The export can be placed anywhere in the code but it was included in the\nComponent object for convenience."),Object(a.b)("p",null,"If your ",Object(a.b)("inlineCode",{parentName:"p"},"Props")," takes type parameters, you have to lock the type down\nto create a stable value before exporting:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-scala"}),'  trait Props[T <: js.Object] ...\n  def apply[T <: js.Object](props: Props[T]) = render.elementWith(props)\n  def render[T <: js.Object]: Props[T] => ReactNode = props => { ... }\n\n  // Use any T type since js does not care about types\n  // But since it was def above, you need to create a stable value.\n  @JSExportTopLevel("MyComponent")\n  val exportableJSFuncComponentWithPropsParam = render[js.Object]\n')),Object(a.b)("h2",{id:"exporting-from-scalajs-and-javascript-bundling"},"Exporting from scala.js and javascript bundling"),Object(a.b)("p",null,"When you bundle, say using webpack, your ",Object(a.b)("inlineCode",{parentName:"p"},"MyComponent")," will be available at the\nname ",Object(a.b)("inlineCode",{parentName:"p"},"WebPackLibName.MyComponent")," because MyComponent was exported at the module level.\nWebPackLibName is the name of the access point given to the webpacka configuration.\nSince MyComponent was exported at the top level of this access point, the\ndotted notation is all you need to access it."),Object(a.b)("p",null,'If you want to use typescript as your "javascript" language for\nexternal-to-scala.js components, you will need to reproduce your typescript\ndefinitions for the parameters manually. Or you could write them in typescript\nand translate them into scala.js :-). It\'s up to you.'))}l.isMDXComponent=!0},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),l=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):p({},t,{},e)),n},u=function(e){var t=l(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=l(n),d=r,m=u["".concat(c,".").concat(d)]||u[d]||b[d]||a;return n?o.a.createElement(m,p({ref:t},s,{components:n})):o.a.createElement(m,p({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,c=new Array(a);c[0]=d;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p.mdxType="string"==typeof e?e:r,c[1]=p;for(var s=2;s<a;s++)c[s]=n[s];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);